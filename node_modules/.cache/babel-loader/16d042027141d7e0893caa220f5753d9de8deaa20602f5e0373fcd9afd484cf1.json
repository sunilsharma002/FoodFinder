{"ast":null,"code":"var _jsxFileName = \"/Users/sunilsharma/Downloads/FoodFinder/src/components/nested-components/AddToFavorites.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, useCallback } from 'react';\nimport { FavoritesContext } from '../../context/Favorites';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddToFavorites = ({\n  recipe\n}) => {\n  _s();\n  const [addToFavorites, setAddToFavorites] = useState(true);\n  const {\n    favorites,\n    setFavoriteRecipes\n  } = useContext(FavoritesContext);\n\n  // Returns favorite recipes excluding current recipe\n  const getFavoritesWithoutThisRecipe = useCallback(() => {\n    return favorites.filter(favoriteRecipe => {\n      return favoriteRecipe.ingredients.toString() !== recipe.ingredients.toString();\n    });\n  }, [favorites, recipe.ingredients]);\n\n  // checks if current recipe is a favorite\n  const checkIfAFavoriteRecipe = useCallback(() => {\n    let updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\n    favorites.length !== updatedFavoriteRecipes.length ? setAddToFavorites(false) : setAddToFavorites(true);\n  }, [favorites.length, getFavoritesWithoutThisRecipe]);\n  const addFavorite = () => {\n    const updatedFavoriteRecipes = [...favorites, recipe];\n    setFavoriteRecipes(updatedFavoriteRecipes);\n    setAddToFavorites(false);\n  };\n  const removeFavorite = () => {\n    const updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\n    setFavoriteRecipes(updatedFavoriteRecipes);\n    setAddToFavorites(true);\n  };\n  useEffect(() => {\n    checkIfAFavoriteRecipe();\n  }, [checkIfAFavoriteRecipe]);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"add-favorite\",\n    onClick: addToFavorites ? addFavorite : removeFavorite,\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"fa-solid fa-bookmark\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), addToFavorites ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Add to favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Remove from favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(AddToFavorites, \"p2zR9BKrH/nM3lLC90lHjhR3O4s=\");\n_c = AddToFavorites;\nexport default AddToFavorites;\nvar _c;\n$RefreshReg$(_c, \"AddToFavorites\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useCallback","FavoritesContext","jsxDEV","_jsxDEV","AddToFavorites","recipe","_s","addToFavorites","setAddToFavorites","favorites","setFavoriteRecipes","getFavoritesWithoutThisRecipe","filter","favoriteRecipe","ingredients","toString","checkIfAFavoriteRecipe","updatedFavoriteRecipes","length","addFavorite","removeFavorite","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sunilsharma/Downloads/FoodFinder/src/components/nested-components/AddToFavorites.js"],"sourcesContent":["import React, { useContext, useState, useEffect, useCallback } from 'react';\r\nimport { FavoritesContext } from '../../context/Favorites'\r\n\r\nconst AddToFavorites = ({ recipe }) => {\r\n    const [addToFavorites, setAddToFavorites] = useState(true);\r\n\r\n    const { favorites, setFavoriteRecipes } = useContext(FavoritesContext);\r\n\r\n    // Returns favorite recipes excluding current recipe\r\n    const getFavoritesWithoutThisRecipe = useCallback(() => {\r\n        return favorites.filter(favoriteRecipe => {\r\n            return favoriteRecipe.ingredients.toString() !== recipe.ingredients.toString()\r\n        })\r\n    },[favorites, recipe.ingredients])\r\n\r\n    // checks if current recipe is a favorite\r\n    const checkIfAFavoriteRecipe = useCallback(() => {\r\n        let updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\r\n\r\n        favorites.length !== updatedFavoriteRecipes.length ?\r\n            setAddToFavorites(false):\r\n            setAddToFavorites(true)\r\n    }, [favorites.length, getFavoritesWithoutThisRecipe])\r\n\r\n    const addFavorite = () => {\r\n        const updatedFavoriteRecipes = [...favorites, recipe];\r\n        setFavoriteRecipes(updatedFavoriteRecipes)\r\n        setAddToFavorites(false);\r\n    }\r\n\r\n    const removeFavorite = () => {\r\n        const updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\r\n        setFavoriteRecipes(updatedFavoriteRecipes)\r\n        setAddToFavorites(true);\r\n    }\r\n\r\n    useEffect(() => {\r\n        checkIfAFavoriteRecipe()\r\n    }, [checkIfAFavoriteRecipe])\r\n\r\n    return (\r\n        <p className=\"add-favorite\" onClick={addToFavorites ? addFavorite : removeFavorite}>\r\n            <svg className=\"fa-solid fa-bookmark\" />\r\n            {\r\n                addToFavorites ?\r\n                    <span>Add to favorites</span> :\r\n                    <span>Remove from favorites</span> \r\n            }\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default AddToFavorites;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC3E,SAASC,gBAAgB,QAAQ,yBAAyB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACnC,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE1D,MAAM;IAAEW,SAAS;IAAEC;EAAmB,CAAC,GAAGb,UAAU,CAACI,gBAAgB,CAAC;;EAEtE;EACA,MAAMU,6BAA6B,GAAGX,WAAW,CAAC,MAAM;IACpD,OAAOS,SAAS,CAACG,MAAM,CAACC,cAAc,IAAI;MACtC,OAAOA,cAAc,CAACC,WAAW,CAACC,QAAQ,CAAC,CAAC,KAAKV,MAAM,CAACS,WAAW,CAACC,QAAQ,CAAC,CAAC;IAClF,CAAC,CAAC;EACN,CAAC,EAAC,CAACN,SAAS,EAAEJ,MAAM,CAACS,WAAW,CAAC,CAAC;;EAElC;EACA,MAAME,sBAAsB,GAAGhB,WAAW,CAAC,MAAM;IAC7C,IAAIiB,sBAAsB,GAAGN,6BAA6B,CAAC,CAAC;IAE5DF,SAAS,CAACS,MAAM,KAAKD,sBAAsB,CAACC,MAAM,GAC9CV,iBAAiB,CAAC,KAAK,CAAC,GACxBA,iBAAiB,CAAC,IAAI,CAAC;EAC/B,CAAC,EAAE,CAACC,SAAS,CAACS,MAAM,EAAEP,6BAA6B,CAAC,CAAC;EAErD,MAAMQ,WAAW,GAAGA,CAAA,KAAM;IACtB,MAAMF,sBAAsB,GAAG,CAAC,GAAGR,SAAS,EAAEJ,MAAM,CAAC;IACrDK,kBAAkB,CAACO,sBAAsB,CAAC;IAC1CT,iBAAiB,CAAC,KAAK,CAAC;EAC5B,CAAC;EAED,MAAMY,cAAc,GAAGA,CAAA,KAAM;IACzB,MAAMH,sBAAsB,GAAGN,6BAA6B,CAAC,CAAC;IAC9DD,kBAAkB,CAACO,sBAAsB,CAAC;IAC1CT,iBAAiB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAEDT,SAAS,CAAC,MAAM;IACZiB,sBAAsB,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACA,sBAAsB,CAAC,CAAC;EAE5B,oBACIb,OAAA;IAAGkB,SAAS,EAAC,cAAc;IAACC,OAAO,EAAEf,cAAc,GAAGY,WAAW,GAAGC,cAAe;IAAAG,QAAA,gBAC/EpB,OAAA;MAAKkB,SAAS,EAAC;IAAsB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAEpCpB,cAAc,gBACVJ,OAAA;MAAAoB,QAAA,EAAM;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,gBAC7BxB,OAAA;MAAAoB,QAAA,EAAM;IAAqB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAE3C,CAAC;AAEZ,CAAC;AAAArB,EAAA,CA/CKF,cAAc;AAAAwB,EAAA,GAAdxB,cAAc;AAiDpB,eAAeA,cAAc;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}