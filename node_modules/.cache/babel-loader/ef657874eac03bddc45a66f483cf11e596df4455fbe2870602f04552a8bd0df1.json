{"ast":null,"code":"var _jsxFileName = \"/Users/sunilsharma/Downloads/FoodFinder/src/components/Recipes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport HealthyFoods from './nested-components/HealthyFoods';\nimport SearchContainer from './nested-components/SearchContainer';\nimport RecipesList from './nested-components/RecipesList';\nimport NotificationTab from './nested-components/NotificationTab';\nimport { RecipesContext } from '../context/Recipes';\nimport { useLocation } from 'react-router-dom';\nimport '../styles/desktop/SearchContainer.scss';\nimport '../styles/tablet/SearchContainer.scss';\nimport '../styles/mobile/SearchContainer.scss';\nimport '../styles/desktop/HealthyFoods.scss';\nimport '../styles/tablet/HealthyFoods.scss';\nimport '../styles/mobile/HealthyFoods.scss';\nimport '../styles/desktop/RecipesList.scss';\nimport '../styles/tablet/RecipesList.scss';\nimport '../styles/mobile/RecipesList.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Recipes = () => {\n  _s();\n  const [showNotificationTab, setShowNotificationTab] = useState(false);\n  const [hideLoader, setHideLoader] = useState(false);\n  const {\n    recipes,\n    setRecipes\n  } = useContext(RecipesContext);\n  const location = useLocation();\n  const recipesScroll = useRef();\n  const healthyFoodsScroll = useRef();\n\n  // Passed down to SearchContainer and HealthyFoods to request recipes upon recipe search or click on a food type\n  const searchForRecipes = async query => {\n    if (query === \"\") return;\n\n    // resetting hide loader\n    setHideLoader(false);\n    const requestURL = getRecipesSearchRequestRL(query);\n    const searchRecipes = await fetch(requestURL);\n    const returnedRecipes = await searchRecipes.json();\n    if (returnedRecipes.to === 0) {\n      setShowNotificationTab(true);\n    } else {\n      const recipes = getRequiredRecipesData(returnedRecipes.hits);\n      setRecipes(recipes);\n    }\n    // used in SearchContainer and HealthyFoods components to hide loader when recipes are found\n    setHideLoader(true);\n  };\n\n  // Scrolling to recipes when new recipes are displayed\n  useEffect(() => {\n    if (recipes.length > 0) {\n      recipesScroll.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [recipes]);\n  useEffect(() => {\n    if (location.pathname === \"/Recipes\") window.scrollTo(0, 0);\n    if (location.search === \"?to=Healthy-foods\") {\n      healthyFoodsScroll.current.scrollIntoView();\n    }\n  }, [location.pathname, location.search]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"recipes\",\n    children: [/*#__PURE__*/_jsxDEV(SearchContainer, {\n      searchForRecipes: searchForRecipes,\n      hideLoader: hideLoader\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HealthyFoods, {\n      searchForRecipes: searchForRecipes,\n      hideLoader: hideLoader,\n      healthyFoodsScroll: healthyFoodsScroll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), recipes.length > 0 ? /*#__PURE__*/_jsxDEV(RecipesList, {\n      recipes: recipes,\n      recipesScroll: recipesScroll,\n      title: \"Recipes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 35\n    }, this) : null, showNotificationTab ? /*#__PURE__*/_jsxDEV(NotificationTab, {\n      text: \"No recipes found for your search\",\n      setShowNotificationTab: setShowNotificationTab\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 36\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n// Returns URL used to fetch recipes from edamam recipe search api\n// using the required environment variables id and key which are stored in .env file\n_s(Recipes, \"fSSjmCeJJIVHSjINf38H5sEnlNc=\", false, function () {\n  return [useLocation];\n});\n_c = Recipes;\nconst getRecipesSearchRequestRL = query => {\n  const id = process.env.REACT_APP_EDAMAM_APP_ID;\n  const key = process.env.REACT_APP_EDAMAM_APP_KEY;\n  return `https://api.edamam.com/api/recipes/v2?type=public&q=${query}s&app_id=${id}&app_key=${key}`;\n};\nconst getRequiredRecipesData = recipes => {\n  return recipes.map(recipe => {\n    let largeImage = recipe.recipe.images.LARGE !== undefined ? recipe.recipe.images.LARGE.url : recipe.recipe.images.REGULAR.url;\n    return {\n      name: recipe.recipe.label,\n      prepTime: recipe.recipe.totalTime,\n      ingredients: recipe.recipe.ingredientLines,\n      calories: recipe.recipe.calories,\n      image: recipe.recipe.images.SMALL.url,\n      largeImage: largeImage\n    };\n  });\n};\nexport default Recipes;\nvar _c;\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useRef","HealthyFoods","SearchContainer","RecipesList","NotificationTab","RecipesContext","useLocation","jsxDEV","_jsxDEV","Recipes","_s","showNotificationTab","setShowNotificationTab","hideLoader","setHideLoader","recipes","setRecipes","location","recipesScroll","healthyFoodsScroll","searchForRecipes","query","requestURL","getRecipesSearchRequestRL","searchRecipes","fetch","returnedRecipes","json","to","getRequiredRecipesData","hits","length","current","scrollIntoView","behavior","pathname","window","scrollTo","search","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","text","_c","id","process","env","REACT_APP_EDAMAM_APP_ID","key","REACT_APP_EDAMAM_APP_KEY","map","recipe","largeImage","images","LARGE","undefined","url","REGULAR","name","label","prepTime","totalTime","ingredients","ingredientLines","calories","image","SMALL","$RefreshReg$"],"sources":["/Users/sunilsharma/Downloads/FoodFinder/src/components/Recipes.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport HealthyFoods from './nested-components/HealthyFoods';\r\nimport SearchContainer from './nested-components/SearchContainer';\r\nimport RecipesList from './nested-components/RecipesList';\r\nimport NotificationTab from './nested-components/NotificationTab';\r\nimport { RecipesContext } from '../context/Recipes';\r\nimport {useLocation} from 'react-router-dom'\r\n\r\nimport '../styles/desktop/SearchContainer.scss';\r\nimport '../styles/tablet/SearchContainer.scss';\r\nimport '../styles/mobile/SearchContainer.scss';\r\n\r\nimport '../styles/desktop/HealthyFoods.scss';\r\nimport '../styles/tablet/HealthyFoods.scss';\r\nimport '../styles/mobile/HealthyFoods.scss';\r\n\r\nimport '../styles/desktop/RecipesList.scss';\r\nimport '../styles/tablet/RecipesList.scss';\r\nimport '../styles/mobile/RecipesList.scss';\r\n\r\nconst Recipes = () => {\r\n    const [showNotificationTab, setShowNotificationTab] = useState(false);\r\n    const [hideLoader, setHideLoader] = useState(false); \r\n\r\n    const { recipes, setRecipes } = useContext(RecipesContext);\r\n\r\n    const location = useLocation();\r\n\r\n    const recipesScroll = useRef(); \r\n\r\n    const healthyFoodsScroll = useRef();\r\n\r\n    // Passed down to SearchContainer and HealthyFoods to request recipes upon recipe search or click on a food type\r\n    const searchForRecipes = async (query) => {\r\n        if (query === \"\") return;\r\n\r\n        // resetting hide loader\r\n        setHideLoader(false);\r\n\r\n        const requestURL = getRecipesSearchRequestRL(query);\r\n        const searchRecipes = await fetch(requestURL);\r\n        const returnedRecipes = await searchRecipes.json();\r\n\r\n        if (returnedRecipes.to === 0) {\r\n            setShowNotificationTab(true);\r\n        } else {\r\n            const recipes = getRequiredRecipesData(returnedRecipes.hits);\r\n            setRecipes(recipes);\r\n        }\r\n        // used in SearchContainer and HealthyFoods components to hide loader when recipes are found\r\n        setHideLoader(true);\r\n    }\r\n\r\n    // Scrolling to recipes when new recipes are displayed\r\n    useEffect(() => {\r\n        if (recipes.length > 0) {\r\n            recipesScroll.current.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n    }, [recipes]);\r\n\r\n    useEffect(() => {\r\n        if (location.pathname === \"/Recipes\") window.scrollTo(0, 0)\r\n        if (location.search === \"?to=Healthy-foods\") {\r\n            healthyFoodsScroll.current.scrollIntoView();\r\n        }\r\n    }, [location.pathname, location.search])\r\n\r\n    return (\r\n        <main className=\"recipes\">\r\n            <SearchContainer searchForRecipes={searchForRecipes} hideLoader={hideLoader}  />\r\n            <HealthyFoods searchForRecipes={searchForRecipes} hideLoader={hideLoader} healthyFoodsScroll={healthyFoodsScroll} />\r\n            {recipes.length > 0 ? <RecipesList recipes={recipes} recipesScroll={recipesScroll} title=\"Recipes\" /> : null}\r\n            {showNotificationTab ? <NotificationTab text=\"No recipes found for your search\" setShowNotificationTab={setShowNotificationTab} /> : null}\r\n        </main>\r\n    )\r\n}\r\n\r\n// Returns URL used to fetch recipes from edamam recipe search api\r\n// using the required environment variables id and key which are stored in .env file\r\nconst getRecipesSearchRequestRL = (query) => {\r\n    const id = process.env.REACT_APP_EDAMAM_APP_ID\r\n    const key = process.env.REACT_APP_EDAMAM_APP_KEY\r\n    return `https://api.edamam.com/api/recipes/v2?type=public&q=${query}s&app_id=${id}&app_key=${key}`\r\n}\r\n\r\nconst getRequiredRecipesData = (recipes) => {\r\n    return recipes.map((recipe) => {\r\n        let largeImage = recipe.recipe.images.LARGE !== undefined ? \r\n            recipe.recipe.images.LARGE.url :\r\n            recipe.recipe.images.REGULAR.url ;\r\n\r\n        return {\r\n            name: recipe.recipe.label,\r\n            prepTime: recipe.recipe.totalTime,\r\n            ingredients: recipe.recipe.ingredientLines,\r\n            calories: recipe.recipe.calories,\r\n            image: recipe.recipe.images.SMALL.url,\r\n            largeImage: largeImage\r\n        }\r\n    });\r\n}\r\n\r\nexport default Recipes"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACtE,OAAOC,YAAY,MAAM,kCAAkC;AAC3D,OAAOC,eAAe,MAAM,qCAAqC;AACjE,OAAOC,WAAW,MAAM,iCAAiC;AACzD,OAAOC,eAAe,MAAM,qCAAqC;AACjE,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAAQC,WAAW,QAAO,kBAAkB;AAE5C,OAAO,wCAAwC;AAC/C,OAAO,uCAAuC;AAC9C,OAAO,uCAAuC;AAE9C,OAAO,qCAAqC;AAC5C,OAAO,oCAAoC;AAC3C,OAAO,oCAAoC;AAE3C,OAAO,oCAAoC;AAC3C,OAAO,mCAAmC;AAC1C,OAAO,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACrE,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAM;IAAEkB,OAAO;IAAEC;EAAW,CAAC,GAAGlB,UAAU,CAACO,cAAc,CAAC;EAE1D,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9B,MAAMY,aAAa,GAAGlB,MAAM,CAAC,CAAC;EAE9B,MAAMmB,kBAAkB,GAAGnB,MAAM,CAAC,CAAC;;EAEnC;EACA,MAAMoB,gBAAgB,GAAG,MAAOC,KAAK,IAAK;IACtC,IAAIA,KAAK,KAAK,EAAE,EAAE;;IAElB;IACAP,aAAa,CAAC,KAAK,CAAC;IAEpB,MAAMQ,UAAU,GAAGC,yBAAyB,CAACF,KAAK,CAAC;IACnD,MAAMG,aAAa,GAAG,MAAMC,KAAK,CAACH,UAAU,CAAC;IAC7C,MAAMI,eAAe,GAAG,MAAMF,aAAa,CAACG,IAAI,CAAC,CAAC;IAElD,IAAID,eAAe,CAACE,EAAE,KAAK,CAAC,EAAE;MAC1BhB,sBAAsB,CAAC,IAAI,CAAC;IAChC,CAAC,MAAM;MACH,MAAMG,OAAO,GAAGc,sBAAsB,CAACH,eAAe,CAACI,IAAI,CAAC;MAC5Dd,UAAU,CAACD,OAAO,CAAC;IACvB;IACA;IACAD,aAAa,CAAC,IAAI,CAAC;EACvB,CAAC;;EAED;EACAf,SAAS,CAAC,MAAM;IACZ,IAAIgB,OAAO,CAACgB,MAAM,GAAG,CAAC,EAAE;MACpBb,aAAa,CAACc,OAAO,CAACC,cAAc,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IAChE;EACJ,CAAC,EAAE,CAACnB,OAAO,CAAC,CAAC;EAEbhB,SAAS,CAAC,MAAM;IACZ,IAAIkB,QAAQ,CAACkB,QAAQ,KAAK,UAAU,EAAEC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3D,IAAIpB,QAAQ,CAACqB,MAAM,KAAK,mBAAmB,EAAE;MACzCnB,kBAAkB,CAACa,OAAO,CAACC,cAAc,CAAC,CAAC;IAC/C;EACJ,CAAC,EAAE,CAAChB,QAAQ,CAACkB,QAAQ,EAAElB,QAAQ,CAACqB,MAAM,CAAC,CAAC;EAExC,oBACI9B,OAAA;IAAM+B,SAAS,EAAC,SAAS;IAAAC,QAAA,gBACrBhC,OAAA,CAACN,eAAe;MAACkB,gBAAgB,EAAEA,gBAAiB;MAACP,UAAU,EAAEA;IAAW;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAChFpC,OAAA,CAACP,YAAY;MAACmB,gBAAgB,EAAEA,gBAAiB;MAACP,UAAU,EAAEA,UAAW;MAACM,kBAAkB,EAAEA;IAAmB;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACnH7B,OAAO,CAACgB,MAAM,GAAG,CAAC,gBAAGvB,OAAA,CAACL,WAAW;MAACY,OAAO,EAAEA,OAAQ;MAACG,aAAa,EAAEA,aAAc;MAAC2B,KAAK,EAAC;IAAS;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAAG,IAAI,EAC3GjC,mBAAmB,gBAAGH,OAAA,CAACJ,eAAe;MAAC0C,IAAI,EAAC,kCAAkC;MAAClC,sBAAsB,EAAEA;IAAuB;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAAG,IAAI;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvI,CAAC;AAEf,CAAC;;AAED;AACA;AAAAlC,EAAA,CA1DMD,OAAO;EAAA,QAMQH,WAAW;AAAA;AAAAyC,EAAA,GAN1BtC,OAAO;AA2Db,MAAMc,yBAAyB,GAAIF,KAAK,IAAK;EACzC,MAAM2B,EAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB;EAC9C,MAAMC,GAAG,GAAGH,OAAO,CAACC,GAAG,CAACG,wBAAwB;EAChD,OAAO,uDAAuDhC,KAAK,YAAY2B,EAAE,YAAYI,GAAG,EAAE;AACtG,CAAC;AAED,MAAMvB,sBAAsB,GAAId,OAAO,IAAK;EACxC,OAAOA,OAAO,CAACuC,GAAG,CAAEC,MAAM,IAAK;IAC3B,IAAIC,UAAU,GAAGD,MAAM,CAACA,MAAM,CAACE,MAAM,CAACC,KAAK,KAAKC,SAAS,GACrDJ,MAAM,CAACA,MAAM,CAACE,MAAM,CAACC,KAAK,CAACE,GAAG,GAC9BL,MAAM,CAACA,MAAM,CAACE,MAAM,CAACI,OAAO,CAACD,GAAG;IAEpC,OAAO;MACHE,IAAI,EAAEP,MAAM,CAACA,MAAM,CAACQ,KAAK;MACzBC,QAAQ,EAAET,MAAM,CAACA,MAAM,CAACU,SAAS;MACjCC,WAAW,EAAEX,MAAM,CAACA,MAAM,CAACY,eAAe;MAC1CC,QAAQ,EAAEb,MAAM,CAACA,MAAM,CAACa,QAAQ;MAChCC,KAAK,EAAEd,MAAM,CAACA,MAAM,CAACE,MAAM,CAACa,KAAK,CAACV,GAAG;MACrCJ,UAAU,EAAEA;IAChB,CAAC;EACL,CAAC,CAAC;AACN,CAAC;AAED,eAAe/C,OAAO;AAAA,IAAAsC,EAAA;AAAAwB,YAAA,CAAAxB,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}